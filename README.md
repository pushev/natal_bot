# Астрологический сайт - Натальная карта и прогнозы

Веб-приложение для расчёта натальной карты и астрологических прогнозов на основе даты, времени и места рождения.

## Возможности

- Выбор города рождения из справочника городов России
- Ввод даты и времени рождения
- Автоматический расчёт базовых параметров натальной карты
- Расчёт положений планет (Солнце, Луна, Меркурий, Венера, Марс, Юпитер, Сатурн)
- Определение знаков зодиака для каждой планеты
- Генерация персонального прогноза на 30 дней
- Отображение прогноза на текущий день
- Предпросмотр прогнозов на следующие 7 дней
- Кнопка для покупки полного прогноза на год

## Технологии

- **Backend**: Node.js, Express
- **Астрономические расчёты**: astronomy-engine
- **Frontend**: Vanilla JavaScript, HTML5, CSS3
- **Данные**: JSON справочник городов России

## Установка

1. Клонируйте репозиторий:
```bash
git clone <url-репозитория>
cd eerun
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите сервер:
```bash
npm start
```

4. Откройте браузер и перейдите по адресу:
```
http://localhost:3000
```

## Разработка

Для разработки с автоматической перезагрузкой используйте:
```bash
npm run dev
```

## Структура проекта

```
eerun/
├── server.js           # Основной файл сервера Express
├── package.json        # Зависимости проекта
├── data/
│   └── cities.json     # Справочник городов России
├── public/
│   ├── index.html      # Главная страница с формой
│   ├── forecast.html   # Страница с прогнозом
│   ├── style.css       # Стили
│   ├── app.js          # JavaScript для главной страницы
│   └── forecast.js     # JavaScript для страницы прогноза
└── README.md           # Документация
```

## API Endpoints

### GET /api/cities
Получение списка городов с фильтрацией по поисковому запросу.

**Query параметры:**
- `search` - строка поиска

**Пример:**
```
GET /api/cities?search=Москва
```

### POST /api/calculate
Расчёт натальной карты и прогнозов.

**Body параметры:**
- `city` - название города (строка)
- `date` - дата рождения (формат: YYYY-MM-DD)
- `time` - время рождения (формат: HH:MM)

**Пример:**
```json
{
  "city": "Москва",
  "date": "1990-01-15",
  "time": "14:30"
}
```

**Ответ:**
```json
{
  "success": true,
  "data": {
    "city": {...},
    "birthDate": "...",
    "planets": {...},
    "zodiacSigns": {...},
    "houses": [...],
    "forecast": [...]
  }
}
```

## Как использовать

1. На главной странице введите город рождения (начните вводить название, появится выпадающий список)
2. Выберите дату и время рождения
3. Нажмите кнопку "Рассчитать прогноз"
4. На странице результатов вы увидите:
   - Основные параметры натальной карты (положения планет в знаках зодиака)
   - Прогноз на текущий день
   - Краткие прогнозы на следующие 7 дней
   - Кнопку для покупки полного прогноза на год

## Особенности расчётов

- Используется астрономическая библиотека для точного расчёта положений планет
- Координаты городов используются для более точных расчётов
- Учитывается часовой пояс каждого города
- Прогнозы генерируются на основе транзитов планет и их аспектов к натальным положениям

## Лицензия

MIT
